{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\test\\\\Downloads\\\\class\\\\musicapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\test\\\\Downloads\\\\class\\\\musicapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\test\\\\Downloads\\\\class\\\\musicapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\test\\\\Downloads\\\\class\\\\musicapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\test\\\\Downloads\\\\class\\\\musicapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\test\\\\Downloads\\\\class\\\\musicapp\\\\src\\\\containers\\\\MusicApp.js\";\nimport React, { Component } from 'react';\nimport { Login } from '../components/Login';\nimport { Register } from '../components/Register';\nimport { Nav } from '../components/Nav';\nimport { Switch, Route } from 'react-router-dom';\nimport { Home } from '../components/Home';\nimport { registerObj, loginObj } from '../utils/Class';\nimport { registerOperations, loginOperations } from '../utils/dbOpr';\nimport { SongsList } from '../components/SongsList';\nimport { AddSong } from '../components/AddSong';\nimport { Playlist } from '../components/Playlist';\nimport { Ajax } from '../utils/Ajax';\nexport var MusicApp =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MusicApp, _Component);\n\n  function MusicApp(props) {\n    var _this;\n\n    _classCallCheck(this, MusicApp);\n\n    // var name = \"\";\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MusicApp).call(this, props));\n    _this.state = {\n      regMsg: \"\",\n      loginMsg: \"\",\n      isUser: false\n    };\n    return _this;\n  }\n\n  _createClass(MusicApp, [{\n    key: \"onRegister\",\n    value: function onRegister(event) {\n      var _this2 = this;\n\n      event.preventDefault();\n      var name = event.target.querySelector('#name').value;\n      var username = event.target.querySelector('#username').value;\n      var pwd = event.target.querySelector('#pwd').value;\n      var userObject = new registerObj(name, username, pwd);\n      var pr = registerOperations.checkUsername(userObject);\n      pr.then(function (data) {\n        if (data) {\n          _this2.setState({\n            regMsg: \"Username is already taken\"\n          });\n        } else {\n          registerOperations.addUser(userObject);\n\n          _this2.setState({\n            regMsg: \"Registered successfully\"\n          });\n        }\n      });\n    }\n  }, {\n    key: \"onLogin\",\n    value: function onLogin(event) {\n      var _this3 = this;\n\n      event.preventDefault();\n      var username = event.target.querySelector('#username').value;\n      var pwd = event.target.querySelector('#pwd').value;\n      var userObject = new loginObj(username, pwd);\n      var pr = loginOperations.checkUser(userObject);\n      pr.then(function (data) {\n        if (data) {\n          if (data.password == pwd) {\n            _this3.setState({\n              loginMsg: \"Logged in\",\n              isUser: true\n            });\n\n            localStorage.setItem('name', username);\n            console.log(_this3.props); // this.props.history.replace(\"/\");\n          } else {\n            _this3.setState({\n              loginMsg: \"Invalid password\"\n            });\n          }\n        } else {\n          _this3.setState({\n            loginMsg: \"Invalid username or password\"\n          });\n        }\n      });\n    }\n  }, {\n    key: \"addSong\",\n    value: function addSong(event) {\n      event.preventDefault();\n      var search = event.target.querySelector('#input').value;\n      Ajax(search); // for(let item in items){\n      //     console.log(item);\n      // }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      // {this.state.isUser ?\n      // (<Redirect to = \"/\"/>):\"\"}\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(Nav, {\n        isUser: this.state.isUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }), this.state.isUser ? React.createElement(Home, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }) : React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        component: Home,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/login\",\n        render: function render(props) {\n          return React.createElement(Login, {\n            login: _this4.onLogin.bind(_this4),\n            loginMsg: _this4.state.loginMsg,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 83\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/register\",\n        render: function render(props) {\n          return React.createElement(Register, {\n            regMsg: _this4.state.regMsg,\n            reg: _this4.onRegister.bind(_this4),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 86\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      })), React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(Route, {\n        path: \"/list\",\n        component: SongsList,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/addsong\",\n        component: function component() {\n          return React.createElement(AddSong, {\n            add: _this4.addSong.bind(_this4),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 93\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/playlist\",\n        component: Playlist,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return MusicApp;\n}(Component);","map":{"version":3,"sources":["C:\\Users\\test\\Downloads\\class\\musicapp\\src\\containers\\MusicApp.js"],"names":["React","Component","Login","Register","Nav","Switch","Route","Home","registerObj","loginObj","registerOperations","loginOperations","SongsList","AddSong","Playlist","Ajax","MusicApp","props","state","regMsg","loginMsg","isUser","event","preventDefault","name","target","querySelector","value","username","pwd","userObject","pr","checkUsername","then","data","setState","addUser","checkUser","password","localStorage","setItem","console","log","search","onLogin","bind","onRegister","addSong"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {Login} from '../components/Login';\r\nimport {Register} from '../components/Register';\r\nimport { Nav } from '../components/Nav';\r\nimport {Switch, Route} from 'react-router-dom'\r\nimport { Home } from '../components/Home';\r\nimport { registerObj, loginObj } from '../utils/Class';\r\nimport { registerOperations, loginOperations } from '../utils/dbOpr';\r\nimport { SongsList } from '../components/SongsList';\r\nimport { AddSong } from '../components/AddSong';\r\nimport { Playlist } from '../components/Playlist';\r\nimport { Ajax } from '../utils/Ajax';\r\n\r\nexport class MusicApp extends Component{\r\n    constructor(props){\r\n        // var name = \"\";\r\n        super(props);\r\n        this.state = {regMsg: \"\", loginMsg: \"\", isUser: false}\r\n    }\r\n    onRegister(event){\r\n        event.preventDefault();\r\n        var name = event.target.querySelector('#name').value;\r\n        var username = event.target.querySelector('#username').value;\r\n        var pwd = event.target.querySelector('#pwd').value;\r\n        var userObject = new registerObj(name,username,pwd);\r\n        var pr = registerOperations.checkUsername(userObject);\r\n        pr.then(data=>{\r\n            if(data){\r\n                this.setState({regMsg: \"Username is already taken\"})\r\n            }\r\n            else{\r\n                registerOperations.addUser(userObject);\r\n                this.setState({regMsg: \"Registered successfully\"});\r\n             \r\n            }\r\n        })\r\n       \r\n    }\r\n    onLogin(event){\r\n        event.preventDefault();\r\n        var username = event.target.querySelector('#username').value;\r\n        var pwd = event.target.querySelector('#pwd').value;\r\n        var userObject = new loginObj(username,pwd);\r\n        var pr = loginOperations.checkUser(userObject);\r\n        pr.then(data=>{\r\n            if(data){\r\n                if(data.password == pwd){\r\n                    this.setState({loginMsg: \"Logged in\", isUser: true});\r\n                    localStorage.setItem('name', username);\r\n                    console.log(this.props);\r\n                    // this.props.history.replace(\"/\");\r\n                }\r\n                else{\r\n                    this.setState({loginMsg: \"Invalid password\"})\r\n                }\r\n            }\r\n            else{\r\n                this.setState({loginMsg: \"Invalid username or password\"})\r\n            }\r\n          \r\n      \r\n        })\r\n    }\r\n    addSong(event){\r\n        event.preventDefault();\r\n        var search = event.target.querySelector('#input').value;\r\n         Ajax(search);\r\n        \r\n        // for(let item in items){\r\n        //     console.log(item);\r\n        // }\r\n    }\r\n    render(){\r\n        // {this.state.isUser ?\r\n        // (<Redirect to = \"/\"/>):\"\"}\r\n        return(\r\n            <div>\r\n                <Nav isUser = {this.state.isUser}/>\r\n              {this.state.isUser? <Home/>:\r\n                <Switch>\r\n                    <Route exact path = \"/\" component = {Home}></Route>\r\n                    <Route path = \"/login\" render = {(props)=>{\r\n                        return <Login login = {this.onLogin.bind(this)} loginMsg = {this.state.loginMsg}/>\r\n                    }}></Route>\r\n                    <Route path = \"/register\" render = {(props)=>{\r\n                        return <Register regMsg = {this.state.regMsg} reg = {this.onRegister.bind(this) }/>\r\n                    }}></Route>\r\n                </Switch>\r\n              }\r\n              <Switch>\r\n                  <Route path = \"/list\" component = {SongsList}/>\r\n                  <Route path = \"/addsong\" component = {()=>{\r\n                      return <AddSong add = {this.addSong.bind(this)}/>\r\n                  }}/>\r\n                  <Route path = \"/playlist\" component = {Playlist}/>\r\n              </Switch>\r\n            </div>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}