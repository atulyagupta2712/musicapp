{"ast":null,"code":"import * as firebase from 'firebase';\nexport var registerOperations = {\n  addUser: function addUser(userObj) {\n    firebase.database().ref(\"/users/\" + userObj.username).set(userObj);\n  },\n  checkUsername: function checkUsername(userObj) {\n    var pr = new Promise(function (resolve, reject) {\n      var object = firebase.database().ref(\"/users/\" + userObj.username);\n      object.on('value', function (snapshot) {\n        resolve(snapshot.val());\n      });\n    });\n    return pr;\n  }\n};\nexport var loginOperations = {\n  checkUser: function checkUser(userObj) {\n    var promise = new Promise(function (resolve, reject) {\n      var object = firebase.database().ref(\"/users/\" + userObj.username);\n      object.on('value', function (snapshot) {\n        // console.log(snapshot.val());\n        resolve(snapshot.val());\n      });\n    });\n    return promise;\n  }\n};\nexport var songDbOperations = {\n  addUser: function addUser() {\n    var username = localStorage.getItem('name');\n    console.log(username);\n    var pr = new Promise(function (resolve, reject) {\n      var obj = firebase.database().ref(\"/users/\" + username);\n      console.log(\"object is\", obj);\n      obj.on('value', function (snapshot) {\n        resolve(snapshot.val());\n      });\n    });\n    return pr;\n  }\n};","map":{"version":3,"sources":["C:\\Users\\test\\Downloads\\class\\musicapp\\src\\utils\\dbOpr.js"],"names":["firebase","registerOperations","addUser","userObj","database","ref","username","set","checkUsername","pr","Promise","resolve","reject","object","on","snapshot","val","loginOperations","checkUser","promise","songDbOperations","localStorage","getItem","console","log","obj"],"mappings":"AAAA,OAAO,KAAKA,QAAZ,MAA0B,UAA1B;AAEA,OAAO,IAAMC,kBAAkB,GAAG;AAE9BC,EAAAA,OAF8B,mBAEtBC,OAFsB,EAEd;AACfH,IAAAA,QAAQ,CAACI,QAAT,GAAoBC,GAApB,CAAwB,YAAUF,OAAO,CAACG,QAA1C,EAAoDC,GAApD,CAAwDJ,OAAxD;AACA,GAJ6B;AAK9BK,EAAAA,aAL8B,yBAKhBL,OALgB,EAKR;AAClB,QAAIM,EAAE,GAAG,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAASC,MAAT,EAAkB;AACnC,UAAIC,MAAM,GAAGb,QAAQ,CAACI,QAAT,GAAoBC,GAApB,CAAwB,YAAUF,OAAO,CAACG,QAA1C,CAAb;AACAO,MAAAA,MAAM,CAACC,EAAP,CAAU,OAAV,EAAmB,UAAAC,QAAQ,EAAE;AACzBJ,QAAAA,OAAO,CAACI,QAAQ,CAACC,GAAT,EAAD,CAAP;AACH,OAFD;AAGH,KALQ,CAAT;AAMA,WAAOP,EAAP;AACH;AAb6B,CAA3B;AAgBN,OAAO,IAAMQ,eAAe,GAAG;AAC3BC,EAAAA,SAD2B,qBACjBf,OADiB,EACT;AACd,QAAIgB,OAAO,GAAG,IAAIT,OAAJ,CAAY,UAACC,OAAD,EAASC,MAAT,EAAkB;AACzC,UAAIC,MAAM,GAAGb,QAAQ,CAACI,QAAT,GAAoBC,GAApB,CAAwB,YAAUF,OAAO,CAACG,QAA1C,CAAb;AACAO,MAAAA,MAAM,CAACC,EAAP,CAAU,OAAV,EAAmB,UAAAC,QAAQ,EAAE;AACzB;AACAJ,QAAAA,OAAO,CAACI,QAAQ,CAACC,GAAT,EAAD,CAAP;AACH,OAHD;AAIF,KANa,CAAd;AAOF,WAAOG,OAAP;AACD;AAV0B,CAAxB;AAYP,OAAO,IAAMC,gBAAgB,GAAG;AAC5BlB,EAAAA,OAD4B,qBACnB;AACL,QAAII,QAAQ,GAAGe,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAf;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYlB,QAAZ;AACA,QAAIG,EAAE,GAAG,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAASC,MAAT,EAAkB;AACnC,UAAIa,GAAG,GAAGzB,QAAQ,CAACI,QAAT,GAAoBC,GAApB,CAAwB,YAAUC,QAAlC,CAAV;AACAiB,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAwBC,GAAxB;AACAA,MAAAA,GAAG,CAACX,EAAJ,CAAO,OAAP,EAAgB,UAAAC,QAAQ,EAAE;AACtBJ,QAAAA,OAAO,CAACI,QAAQ,CAACC,GAAT,EAAD,CAAP;AACH,OAFD;AAGH,KANQ,CAAT;AAOA,WAAOP,EAAP;AAEH;AAb2B,CAAzB","sourcesContent":["import * as firebase from 'firebase'\r\n\r\nexport const registerOperations = {\r\n  \r\n    addUser(userObj){\r\n     firebase.database().ref(\"/users/\"+userObj.username).set(userObj);\r\n    },\r\n    checkUsername(userObj){\r\n        var pr = new Promise((resolve,reject)=>{\r\n            var object = firebase.database().ref(\"/users/\"+userObj.username);\r\n            object.on('value', snapshot=>{\r\n                resolve(snapshot.val());\r\n            })\r\n        })\r\n        return pr;\r\n    }  \r\n }\r\n\r\n export const loginOperations = {\r\n     checkUser(userObj){\r\n         var promise = new Promise((resolve,reject)=>{\r\n            var object = firebase.database().ref(\"/users/\"+userObj.username);\r\n            object.on('value', snapshot=>{\r\n                // console.log(snapshot.val());\r\n                resolve(snapshot.val());\r\n            })\r\n         })\r\n       return promise;\r\n     }\r\n }\r\n export const songDbOperations = {\r\n     addUser(){\r\n         var username = localStorage.getItem('name');\r\n         console.log(username);\r\n         var pr = new Promise((resolve,reject)=>{\r\n             var obj = firebase.database().ref(\"/users/\"+username);\r\n             console.log(\"object is\",obj)\r\n             obj.on('value', snapshot=>{\r\n                 resolve(snapshot.val());\r\n             })\r\n         })\r\n         return pr;\r\n        \r\n     }\r\n }\r\n"]},"metadata":{},"sourceType":"module"}